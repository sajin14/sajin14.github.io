var map,markers=[],address,view={},largeInfoWindow;view.initMap=function(){map=new google.maps.Map(document.getElementById("map"),{center:{lat:28.5272181,lng:77.0688976},zoom:8,mapTypeControl:!1})},view.initialize=function(e){largeInfoWindow=new google.maps.InfoWindow({maxWidth:250});for(var i,a,n=0;n<e.length;n++){var o=e[n].position,t=e[n].name,r=e[n].id;switch(e[n].type){case"school":i="59c605";break;case"college":i="05c6bd";break;case"hospital":i="c60505";break;case"mall":i="0905c6";break;case"multiplex":i="db36c2";break;case"tourist":i="ead219"}a=new google.maps.MarkerImage("https://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|"+i);var s=new google.maps.Marker({position:o,title:t,animation:google.maps.Animation.DROP,id:r,icon:a});markers.push(s),s.addListener("click",function(i){return function(){view.populateInfoWindow(this,largeInfoWindow,e[i])}}(n))}view.showlistings()},view.showlistings=function(){for(var e=new google.maps.LatLngBounds,i=0;i<markers.length;i++)markers[i].setMap(map),e.extend(markers[i].position);map.fitBounds(e)},view.hidelistings=function(){for(var e=0;e<markers.length;e++)for(var i=0;i<hideMarkers.length;i++)e==hideMarkers[i]&&markers[e].setMap(null)},view.getMarker=function(e){for(i=0;i<markers.length;i++)if(markers[i].id==e.id)return markers[i]},view.getInfoWindow=function(){return largeInfoWindow},view.populateInfoWindow=function(e,i,a){markers.forEach(function(e){e.setAnimation(null)}),e.setAnimation(google.maps.Animation.BOUNCE),i.marker!=e&&(i.marker=e,i.setContent(""),view.wiki(a,i),i.setContent("<div><h1>"+e.title+"</h1></div><hr>")),i.open(map,e),i.addListener("closeclick",function(){i.marker=null,e.setAnimation(null)})},view.wiki=function(e,i){var a,n=e.name,o="https://en.wikipedia.org/w/api.php?action=opensearch&search="+n+"&format=json&callback=wikiCallback";$.ajax({url:o,dataType:"jsonp"}).done(function(n){a=n[2],""===a&&(a=" No Data available"),i.setContent("<div><h1>"+e.name+'</h1></div><hr><div class= "description">'+a+"</div><hr><div>Source: Media Wiki API</div>")}).fail(function(){a="Failed to Load wikipedia articles",i.setContent("<div><h1>"+e.name+'</h1></div><hr><div class= "description">'+a+"</div>")})};