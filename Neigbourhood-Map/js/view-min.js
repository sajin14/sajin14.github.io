var map,markers=[],address,view={},largeInfoWindow;view.initMap=function(){map=new google.maps.Map(document.getElementById("map"),{center:{lat:28.5272181,lng:77.0688976},zoom:8,mapTypeControl:!1})},view.initialize=function(e){largeInfoWindow=new google.maps.InfoWindow({maxWidth:250});for(var i,n,a=0;a<e.length;a++){var o=e[a].position,t=e[a].name,r=e[a].id;switch(e[a].type){case"school":i="59c605";break;case"college":i="05c6bd";break;case"hospital":i="c60505";break;case"mall":i="0905c6";break;case"multiplex":i="db36c2";break;case"tourist":i="ead219"}n=new google.maps.MarkerImage("https://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|"+i);var s=new google.maps.Marker({position:o,title:t,animation:google.maps.Animation.DROP,id:r,icon:n});markers.push(s),s.addListener("click",function(i){return function(){view.populateInfoWindow(this,largeInfoWindow,e[i])}}(a))}view.showlistings()},view.showlistings=function(){for(var e=new google.maps.LatLngBounds,i=0;i<markers.length;i++)markers[i].setMap(map),e.extend(markers[i].position);map.fitBounds(e)},view.hidelistings=function(){for(var e=0;e<markers.length;e++)for(var i=0;i<hideMarkers.length;i++)e==hideMarkers[i]&&markers[e].setMap(null)},view.getMarker=function(e){for(i=0;i<markers.length;i++)if(markers[i].id==e.id)return markers[i]},view.getInfoWindow=function(){return largeInfoWindow},view.populateInfoWindow=function(e,i,n){if(markers.forEach(function(e){e.setAnimation(null)}),e.setAnimation(google.maps.Animation.BOUNCE),i.marker!=e){i.marker=e,i.setContent("");view.wiki(n);i.setContent("<div><h1>"+e.title+'</h1></div><hr><div class= "description"></div>')}i.open(map,e),i.addListener("closeclick",function(){i.marker=null,e.setAnimation(null)})},view.wiki=function(e){var i,n=e.name,a="https://en.wikipedia.org/w/api.php?action=opensearch&search="+n+"&format=json&callback=wikiCallback",o=setTimeout(function(){i="Failed to Load wikipedia articles"},8e3);$.ajax({url:a,dataType:"jsonp",success:function(e){i=e[2],$(".description").append(i),clearTimeout(o)}})};